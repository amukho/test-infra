# Week of 2025-04-14 to 2025-04-21 (23)

### GHFirst (4)

- [Revert "Cache the value of torch_key in subproc (#151057)"](https://github.com/pytorch/pytorch/commit/92d0c40c4921abf01a01a173453815b975781d85)
  - Diff reverted internally ([comment](https://github.com/pytorch/pytorch/pull/151057#issuecomment-2816614510))
- [Revert "Add inductor standalone_compile API (#150670)"](https://github.com/pytorch/pytorch/commit/74f6bc28a72e93e612bf1b91134f4866316605f3)
  - breaking internal builds with torch module not found error ([comment](https://github.com/pytorch/pytorch/pull/150670#issuecomment-2806975267))
- [Revert "[map] always turn on dynamo for map (#150962)"](https://github.com/pytorch/pytorch/commit/4a47dd9b3f5d3aa587a8f909ce53f3a5eddcde6d)
  - breaking internal builds by failing 4 tests ([comment](https://github.com/pytorch/pytorch/pull/150962#issuecomment-2803006282))
- [Revert "[map] make proxy mode re-dispatch to fake key (#151034)"](https://github.com/pytorch/pytorch/commit/6a77a0a50c10d5a08344d2b1f1c436b88c488559)
  - breaking internal builds by failing 4 tests ([comment](https://github.com/pytorch/pytorch/pull/150962#issuecomment-2803006282))

### Ignored Signal (4)

- [Revert "[Testing] Make test_add_complex3 run on different devices (#151732)"](https://github.com/pytorch/pytorch/commit/68f748a99217fab001f340a12ac734fc35a911f0)
  - It breaks MacOS-13 ([comment](https://github.com/pytorch/pytorch/pull/151732#issuecomment-2816690571))
- [Revert "[DCP] Add logging for _stateful_to_state_dict(), stage_state_dict(), and synchronize_staging() (#151320)"](https://github.com/pytorch/pytorch/commit/17ea9d14786aea758c51eed9a93e5e3ad4be7ef0)
  - Broke lint ([comment](https://github.com/pytorch/pytorch/pull/151320#issuecomment-2811669325))
- [Revert "[Openreg][PrivateUse1] Enable CI for openreg (#151007)"](https://github.com/pytorch/pytorch/commit/f252f9df5e0fa5d942218108cc5983bb72182086)
  - At least test_record_event needs to also be skipped on dynamo too, its failing and then somehow causing a hang? https://github.com/pytorch/pytorch/actions/runs/14487625709/job/40637535027#step:25:73 ([comment](https://github.com/pytorch/pytorch/pull/151007#issuecomment-2810789483))
- [Revert "[Openreg][PrivateUse1] Fix releasing tensor issue when using pin_memory (#151091)"](https://github.com/pytorch/pytorch/commit/e0535e823fef91e38863c9de36b3fe424ba85e4e)
  - At least test_record_event needs to also be skipped on dynamo too, its failing and then somehow causing a hang? https://github.com/pytorch/pytorch/actions/runs/14487625709/job/40637535027#step:25:73 ([comment](https://github.com/pytorch/pytorch/pull/151007#issuecomment-2810789483))

### Landrace (1)

- [Revert "Fix setUpClass() / tearDownClass() for device-specific tests (#151129)"](https://github.com/pytorch/pytorch/commit/98b1e82ba84c97f5b1ceec7c7d13fb1c16c04b73)
  - flex attention tests failing ([comment](https://github.com/pytorch/pytorch/pull/151129#issuecomment-2807632119))

### No Signal (13)

- [Revert "[Easy] Fix the function signature of torch.Event (#151221)"](https://github.com/pytorch/pytorch/commit/48761e97376aac6d6b2a2f5e0550f444d9eddd09)
  - This broke rocm tests, see https://hud.pytorch.org/pytorch/pytorch/commit/92baeecbdd3fb717880485e529df4efb02627c9d#40818271233-box ([comment](https://github.com/pytorch/pytorch/pull/151221#issuecomment-2816883409))
- [Revert "[Easy][torch.Event] Fix and improve the docs of torch.Event (#151411)"](https://github.com/pytorch/pytorch/commit/c4482565cce7d78e4a348a963da5ccab2a0cbfeb)
  - This broke rocm tests, see https://hud.pytorch.org/pytorch/pytorch/commit/92baeecbdd3fb717880485e529df4efb02627c9d#40818271233-box ([comment](https://github.com/pytorch/pytorch/pull/151221#issuecomment-2816883409))
- [Revert "[dynamic shapes] guard_or_false for _reshape_view_helper, utils._infer_size for wildcard dims (#150127)"](https://github.com/pytorch/pytorch/commit/97d97aef24bd0a61ca45769adef770869ae854ce)
  - maybe caused export test to fail? export/test_draft_export.py::TestDraftExport::test_masked_linear [GH job link](https://github.com/pytorch/pytorch/actions/runs/14538768138/job/40794985504) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/1dd2033c0a1de460ee2bad8d64c36a0344886071), bad TD ([comment](https://github.com/pytorch/pytorch/pull/150127#issuecomment-2816232086))
- [Revert "[export] allow partially specifying keys for dynamic shapes dict spec (#151597)"](https://github.com/pytorch/pytorch/commit/1b267a58a1659f272d446c86751a360a2046c8c8)
  - broke some export test export/test_converter.py::TestConverter::test_aten_len [GH job link](https://github.com/pytorch/pytorch/actions/runs/14538615968/job/40792673415) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/c8240e3492e4813e822d7265eb3afb7f1168db39), bad TD ([comment](https://github.com/pytorch/pytorch/pull/151597#issuecomment-2816127271))
- [Revert "[inductor][test] Skip triton tests for MPS as well, also change reason for skipping SM89 to not IS_BIG_GPU (#151506)"](https://github.com/pytorch/pytorch/commit/e434a9152e1a749ca45918c47e7a1690e9c21e4a)
  - seems to be breaking some rocm mi300 run ([comment](https://github.com/pytorch/pytorch/pull/151506#issuecomment-2815999009))
- [Revert "stage 2 of depreate silent fallback of tuning gemm (#148622)"](https://github.com/pytorch/pytorch/commit/b7807759dedf4bb864c8d57d97ce809e314eb14d)
  - seems to be breaking some rocm mi300 run ([comment](https://github.com/pytorch/pytorch/pull/148622#issuecomment-2815995105))
- [Revert "[Easy] Fix the compilation warning of BlasKernel. (#151302)"](https://github.com/pytorch/pytorch/commit/28974a1ec3b921809c20a1217178da3792e5c545)
  - Breaks builds without OpenMP, see https://github.com/pytorch/pytorch/issues/151680 ([comment](https://github.com/pytorch/pytorch/pull/151302#issuecomment-2815954855))
- [Revert "[Easy] Add more check for elapsedTime of torch.xxx.Event and torch.Event (#151404)"](https://github.com/pytorch/pytorch/commit/1ce7969e818ae282f43f1d5dd5f8d1207fc79223)
  - broke a cpp extension test? test_cpp_extensions_stream_and_event.py::TestCppExtensionStreamAndEvent::test_stream_event [GH job link](https://github.com/pytorch/pytorch/actions/runs/14519277500/job/40736981315) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/90c5b86cd8fcbbe6ee7c46ad17a05767f884794b), bad TD ([comment](https://github.com/pytorch/pytorch/pull/151404#issuecomment-2813649667))
- [Revert "[Reopen] [Intel GPU] Set higher tolerance for some models only on XPU Device (#144756)"](https://github.com/pytorch/pytorch/commit/41b82611ee175f4bd4001d62923280640f061d9f)
  - Broke rocm torch bench runs with  TypeError: unsupported operand type(s) for |: 'set' and 'list' ([comment](https://github.com/pytorch/pytorch/pull/144756#issuecomment-2812525970))
- [Revert "[MPS] Make fused rms_norm traceable (#150661)"](https://github.com/pytorch/pytorch/commit/e4fe67f6239664f3e27e88792814abe1943bf41f)
  - Has decomp started to fail again ([comment](https://github.com/pytorch/pytorch/pull/150661#issuecomment-2812520408))
- [Revert "[ez] Make relaxed constraint error message more user friendly (#151407)"](https://github.com/pytorch/pytorch/commit/a582f046084d1ea49b2a253ece15a4d6157f2579)
  - breaks export tests ([comment](https://github.com/pytorch/pytorch/pull/151407#issuecomment-2810716135))
- [Revert "[dynamo] context manager/decorator for dynamo config patching during tracing (#150586)"](https://github.com/pytorch/pytorch/commit/6a3a6d22dcebc24288a449d8b03e9aae47f510b7)
  - broke some inductor tests? inductor/test_fuzzer.py::TestConfigFuzzer::test_config_fuzzer_dynamo_bisect [GH job link](https://github.com/pytorch/pytorch/actions/runs/14486513628/job/40635178179) [HUD commit link](https://hud.pytorch.org/pytorch/pytorch/commit/40ce4fb24a536d175348df876f61956d4945778e), bad TD ([comment](https://github.com/pytorch/pytorch/pull/150586#issuecomment-2810064322))
- [Revert "Add inductor standalone_compile API (#150670)"](https://github.com/pytorch/pytorch/commit/24b3ab9255010c757865a86044bcf0c8dbcf3138)
  - Broke profiler test ([comment](https://github.com/pytorch/pytorch/pull/150670#issuecomment-2802067144))

### Weird (1)

- [Revert "inductor.config.descriptive_names = False is not actually supported (#145523) (#146051) (#151481)"](https://github.com/pytorch/pytorch/commit/6261db7719a56ac9d9ca7264a116a49c22d50bbd)
  - It indeed breaks lint, it followup PR contains it's own issues ([comment](https://github.com/pytorch/pytorch/pull/151481#issuecomment-2816490764))
